<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Binya : The Ruby wrapper for the Fed" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Binya</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/dwillis/binya">View on GitHub</a>

          <h1 id="project_title">Binya</h1>
          <h2 id="project_tagline">The Ruby wrapper for the Fed</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/dwillis/binya/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/dwillis/binya/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="binya" class="anchor" href="#binya"><span class="octicon octicon-link"></span></a>Binya</h1>

<p>Binya is a Ruby library for parsing information from Federal Reserve sites. Its initial utility is to parse <a href="http://www.stlouisfed.org/fomcspeak/date.aspx">a listing of speeches, testimony and other comments</a> by Federal Open Market Committee participants and return Ruby objects. It also provides details about the FOMC participants via a YAML file that can be loaded.</p>

<p>Binya is named for <a href="http://topics.nytimes.com/top/reference/timestopics/people/a/binyamin_appelbaum/index.html">Binyamin Applebaum</a>, a Washington correspondent for The New York Times.</p>

<p>Binya is tested under Ruby 1.9.3.</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Add this line to your application's Gemfile:</p>

<pre><code>gem 'binya'
</code></pre>

<p>And then execute:</p>

<pre><code>$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre><code>$ gem install binya
</code></pre>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Binya pulls information from the Federal Reserve Bank of St. Louis, which has a site that tracks <a href="http://www.stlouisfed.org/fomcspeak/index.aspx">members of the Federal Open Market Committee</a> and <a href="http://www.stlouisfed.org/fomcspeak/date.aspx">public remarks they make</a>. The FOMC participants are stored in a YAML file within the gem and can be loaded like so:</p>

<div class="highlight"><pre><span class="nb">require</span> <span class="s1">'rubygems'</span>
<span class="nb">require</span> <span class="s1">'binya'</span>

<span class="n">participants</span> <span class="o">=</span> <span class="ss">Binya</span><span class="p">:</span><span class="ss">:Participant</span><span class="o">.</span><span class="n">load_all</span>
<span class="nb">puts</span> <span class="n">participants</span><span class="o">.</span><span class="n">first</span>
<span class="o">=&gt;</span> <span class="o">&lt;</span><span class="ss">Binya</span><span class="p">:</span><span class="ss">:Participant</span><span class="p">:</span><span class="mh">0x007f987b924e90</span> <span class="vi">@fomc_id</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="vi">@name</span><span class="o">=</span><span class="s2">"Ben S. Bernanke"</span><span class="p">,</span> <span class="vi">@title</span><span class="o">=</span><span class="s2">"Chairman, Board of Governors"</span><span class="p">,</span> <span class="vi">@term_start</span><span class="o">=</span><span class="c1">#&lt;Date: 2006-02-01 ((2453768j,0s,0n),+0s,2299161j)&gt;, @term_end=nil, @rss_url="http://www.stlouisfed.org/fomcspeak/xml/fomcspeak-bernanke-2-feed.xml", @img_url="http://www.stlouisfed.org/fomcspeak/Participants/bernanke_ben.jpg", @fomc_name="Chairman Bernanke"&gt;</span>
</pre></div>

<p>The <code>fomc_id</code> corresponds to the number used in FOMC URLs like <a href="http://www.stlouisfed.org/fomcspeak/Participant.aspx?id=2">this one for Ben S. Bernanke</a>. The <code>fomc_name</code> is how each participant appears in the <a href="http://www.stlouisfed.org/fomcspeak/date.aspx">HTML listings of remarks</a>.</p>

<p>Individual participants in the FOMC have their own RSS feeds that contain similar information to the HTML remark lists, but the RSS feeds puts the "type", "where" and "what" columns from the HTML lists into a single attribute. Still, Binya has methods that you can use to load all FOMC participant RSS feeds or individual participant feeds if those fit your needs better:</p>

<div class="highlight"><pre><span class="c1"># pulls from rss feeds of FOMC participants - this puts type, location and title into a single field</span>
<span class="n">latest_from_rss</span> <span class="o">=</span> <span class="ss">Binya</span><span class="p">:</span><span class="ss">:Remarks</span><span class="o">.</span><span class="n">latest</span>
<span class="c1"># grabs a single participant and pulls his/her RSS feed</span>
<span class="n">participants</span> <span class="o">=</span> <span class="ss">Binya</span><span class="p">:</span><span class="ss">:Participants</span><span class="o">.</span><span class="n">load_all</span>
<span class="n">ben</span> <span class="o">=</span> <span class="n">participants</span><span class="o">.</span><span class="n">detect</span><span class="p">{</span><span class="o">|</span><span class="nb">p</span><span class="o">|</span> <span class="nb">p</span><span class="o">.</span><span class="n">fomc_name</span> <span class="o">==</span> <span class="s1">'Chairman Bernanke'</span><span class="p">}</span>
<span class="n">ben</span><span class="o">.</span><span class="n">latest_remarks</span>
</pre></div>

<p>Because the St. Louis Fed site uses Javascript postbacks for pagination, Binya includes local HTML versions of the remarks listings that can be loaded to have remarks objects back to August 2010. Binya also is capable of scraping the latest "front page" of remarks listings, which is ordered by date descending:</p>

<div class="highlight"><pre><span class="c1"># scrapes locally-stored HTML files</span>
<span class="n">results</span> <span class="o">=</span> <span class="ss">Binya</span><span class="p">:</span><span class="ss">:Remarks</span><span class="o">.</span><span class="n">fetch_previous</span>
<span class="nb">puts</span> <span class="n">results</span><span class="o">.</span><span class="n">size</span>
<span class="o">=&gt;</span> <span class="mi">275</span>

<span class="c1"># scrapes http://www.stlouisfed.org/fomcspeak/date.aspx</span>
<span class="n">results</span> <span class="o">=</span> <span class="ss">Binya</span><span class="p">:</span><span class="ss">:Remarks</span><span class="o">.</span><span class="n">fetch_html</span>
<span class="nb">puts</span> <span class="n">results</span><span class="o">.</span><span class="n">first</span>
<span class="o">=&gt;</span> <span class="o">&lt;</span><span class="ss">Binya</span><span class="p">:</span><span class="ss">:Remarks</span><span class="p">:</span><span class="mh">0x007f987b8f2dc8</span> <span class="vi">@date</span><span class="o">=</span><span class="c1">#&lt;Date: 2013-07-02 ((2456476j,0s,0n),+0s,2299161j)&gt;, @time=2013-07-02 17:45:00 -0400, @participant="Jerome H. Powell", @participant_id=22, @type="Speech", @location="The University Club, New York, N.Y.", @title="International Financial Regulatory ReformÂ ", @url="http://www.federalreserve.gov/newsevents/speech/powell20130702a.htm"&gt;</span>
</pre></div>

<h2>
<a name="contributing" class="anchor" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Binya maintained by <a href="https://github.com/dwillis">dwillis</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
